FROM alpine

RUN curl -X POST -H "Content-Type: application/vnd.schemaregistry.v1+json" --data '{"schemaType":"JSON", "schema": "{\r\n    \"$schema\": \"https://json-schema.org/draft/2019-09/schema\",\r\n    \"$id\": \"http://example.com/example.json\",\r\n    \"type\": \"object\",\r\n    \"default\": {},\r\n    \"title\": \"Root Schema\",\r\n    \"required\": [\r\n      \"repo_names\",\r\n      \"commit\",\r\n      \"author\",\r\n      \"date\"\r\n    ],\r\n    \"properties\": {\r\n      \"repo_names\": {\r\n        \"type\": \"array\",\r\n        \"default\": [],\r\n        \"title\": \"The repo_names Schema\",\r\n        \"items\": {\r\n          \"type\": \"string\",\r\n          \"title\": \"A Schema\",\r\n          \"examples\": [\r\n            \"ironbee/ironbee\",\r\n            \"b1v1r/ironbee\"\r\n          ]\r\n        },\r\n        \"examples\": [\r\n          [\r\n            \"ironbee/ironbee\",\r\n            \"b1v1r/ironbee\"\r\n          ]\r\n        ]\r\n      },\r\n      \"commit\": {\r\n        \"type\": \"string\",\r\n        \"default\": \"\",\r\n        \"title\": \"The commit Schema\",\r\n        \"examples\": [\r\n          \"628796557d37ecd41741f77eeb888109a518714d\"\r\n        ]\r\n      },\r\n      \"author\": {\r\n        \"type\": \"string\",\r\n        \"default\": \"\",\r\n        \"title\": \"The author Schema\",\r\n        \"examples\": [\r\n          \"Sam Baskinger\"\r\n        ]\r\n      },\r\n      \"date\": {\r\n        \"type\": \"integer\",\r\n        \"minimum\": 0,\r\n        \"default\": 0,\r\n        \"title\": \"The date Schema\",\r\n        \"examples\": [\r\n          1368114069\r\n        ]\r\n      }\r\n    },\r\n    \"examples\": [\r\n      {\r\n        \"repo_names\": [\r\n          \"ironbee/ironbee\",\r\n          \"b1v1r/ironbee\"\r\n        ],\r\n        \"commit\": \"628796557d37ecd41741f77eeb888109a518714d\",\r\n        \"author\": \"Sam Baskinger\",\r\n        \"date\": 1368114069\r\n      }\r\n    ]\r\n  }"}' http://schema-registry:8081/subjects/commit/versions
RUN curl -X POST -H "Content-Type: application/vnd.schemaregistry.v1+json" --data '{"schemaType":"JSON", "schema": "{\r\n  \"$schema\": \"https://json-schema.org/draft/2019-09/schema\",\r\n  \"$id\": \"http://example.com/example.json\",\r\n  \"type\": \"object\",\r\n  \"default\": {},\r\n  \"title\": \"Root Schema\",\r\n  \"required\": [\r\n    \"repo_name\",\r\n    \"langauges\"\r\n  ],\r\n  \"properties\": {\r\n    \"repo_name\": {\r\n      \"type\": \"string\",\r\n      \"default\": \"\",\r\n      \"title\": \"The repo_name Schema\",\r\n      \"examples\": [\r\n        \"ironbee/ironbee\"\r\n      ]\r\n    },\r\n    \"langauges\": {\r\n      \"type\": \"object\",\r\n      \"default\": \"\",\r\n      \"title\": \"The language Schema\",\r\n      \"examples\": [\r\n        \"Go\"\r\n      ],\r\n      \"additionalProperties\": {\r\n        \"type\": \"integer\",\r\n        \"minimum\": 0,\r\n        \"default\": 0,\r\n        \"title\": \"The byte Schema\",\r\n        \"examples\": [\r\n          60704\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  \"examples\": [\r\n    {\r\n      \"repo_name\": \"ironbee/ironbee\"\r\n    }\r\n  ]\r\n}"}' http://schema-registry:8081/subjects/language/versions
RUN curl -X POST -H "Content-Type: application/vnd.schemaregistry.v1+json" --data '{"schemaType":"JSON", "schema": "{\r\n    \"$schema\": \"https://json-schema.org/draft/2019-09/schema\",\r\n    \"$id\": \"http://example.com/example.json\",\r\n    \"type\": \"object\",\r\n    \"default\": {},\r\n    \"title\": \"Root Schema\",\r\n    \"required\": [\r\n        \"repo_name\"\r\n    ],\r\n    \"properties\": {\r\n        \"repo_name\": {\r\n            \"type\": \"string\",\r\n            \"default\": \"\",\r\n            \"title\": \"The repo_name Schema\",\r\n            \"examples\": [\r\n                \"ironbee/ironbee\"\r\n            ]\r\n        }\r\n    },\r\n    \"examples\": [{\r\n        \"repo_name\": \"ironbee/ironbee\"\r\n    }]\r\n}"}' http://schema-registry:8081/subjects/repo/versions
